  services:
    - type: web
      name: sentiment-backend
      env: python
      buildCommand: pip install -r requirements.txt
      startCommand: gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:10000 --timeout 120 --keep-alive 2 --max-requests 1000 --max-requests-jitter 100
      envVars:
        - key: MONGO_URI
          sync: false
        - key: PYTHONPATH
          value: .
        - key: WORKERS
          value: "4"
      # Performance optimizations
      plan: starter
      region: oregon
      healthCheckPath: /health
      autoDeploy: true